
.thematic(@slug; @brand:@brand-primary; @bg:@body-bg) {	
	
	.thematic-@{slug} {
		background-image:url("../img/bg/@{slug}.png");
		background-color: @bg;		

		.btn-primary {
  			.button-variant(#fff; @brand; @brand);
		}
        
        .noUi-horizontal .noUi-handle {
            background-color:@brand;

            &:after {
                background-color:lighten(@brand, 40);
            }                    
        }

		.thematic {

			a {
				color: @brand;

				&:hover {
					color: lighten(@brand, 10);
				}
			}

			&__title {
				color:@brand;
				background-image: url("../img/ui/pic_@{slug}.png"); 
			}

			&-landing {

				&__let-go:after {
					background:@brand;
				}
			}
		}


	    .survey-element {

            &__media {
    	    	border-color:@brand;
    	    }

    	    &__position {
    	    	color:@brand;
    	    }

            &--choice-media {

                & .question-choice {

                    &:hover {
                        background:lighten(@brand, 30);
                    }

                    &--selected {

                        background:lighten(@brand, 50);
                        
                        &, &:after {
                            border-bottom-color:@brand;
                        }
                    }
                }
            }


        }

        .question-choice {

    		&:before {
    			border-color: lighten(@brand, 5%);                
    		}

            &:hover:before {
                background-color: lighten(@brand, 30%);
            }

            &--selected:hover:before {
                background-color: #fff;
            }

    		&:hover:before, &--selected:before {
    			border-left-width:3px;
    			border-right-width:3px;
    			border-color:@brand;
    			background-image: url("../img/ui/minipic-valider_@{slug}.png");
    		}
        }

        .question-choices {

            &--boolean__choice:before {
                color:white;            
                background:@brand;
                border-color:fade(@brand, 90);
            }

            &--boolean__choice--selected, &--boolean__choice:hover {
                color:@brand;
                &:before {
                    background:white;
                }
            }

            &--typed-number, &--multiple {                

                &__output {
                    color:@brand;
                }

                &__validate {
                    background-image:url("../img/ui/validate_@{slug}.png");                        
                }
            }

            select {
                color:@brand;
            }
        }

        .answer-navigator h4.answer-title:before {
            background-color: @brand;
        }

        svg .bar rect {
            fill: @brand;

            &:hover {
                fill: darken(@brand, 10%)
            }
        }

        .answer-thematics__thematic.@{slug} {
            a { color: @brand; }

            background: url("../img/ui/pic_@{slug}.png") no-repeat;
            -webkit-filter: none !important;
        }

        .feedback__title {            
            background-color: @brand;
        }

        .thumbnail {
            border-color:lighten(@brand, 40);
            background:lighten(@brand, 60)
        }

	}

}

.white-panel(@width:435px) {
    position:relative;
    margin:auto;    
    margin-top:15px;
    padding:0;
    width: @width;
    margin-bottom:10px;
    
    &:before {
        z-index:-1;
        content:"";
        position:absolute;
        top:0;
        bottom:0;
        left:0;
        right:0;
        background:fade(white, 90%);
        .transform( skewY(-0.5deg) );
        .box-shadow( 5px 5px 0 0  fade(@navbar-default-bg, 10%) );
    }
}


.white-panel(responsive; @width:435px) {

    .white-panel(@width:435px);   

    @media (max-width: @screen-xs-min) {                
        margin:0;
        width:100%;
        left:0;
        height: ~"calc(100% - @{header-height})";

        &:before {
            background:white; 
            .transform(none);
            .box-shadow(none);
        }
    }    
}


.keyframes-sliding() {
    from { .translate(0, -600px); }
    to   { .translate(0, 0); }
}

@keyframes sliding{ .keyframes-sliding(); }
@-webkit-keyframes sliding{ .keyframes-sliding(); }
@-moz-keyframes sliding{ .keyframes-sliding(); }

.do-sliding() {

    .animation(sliding 0.5s);

    &.ng-enter {
        .transition(0.5s);
        .translate(0, -600px);
        
        &-active  {
            .translate(0, 0);
        }
    }

    &.ng-leave {
        .transition(0.5s);
        .translate(0, 0);
        
        &-active {
            .translate(0, -600px);
        }
    }
}



.transform(@transform...) { 
    -webkit-transform: @arguments; // iOS <4.3 & Android <4.1
       -moz-transform: @arguments; // Firefox
            transform: @arguments;
}

.animation(@animation...) { 
    -webkit-animation: @arguments; // iOS <4.3 & Android <4.1
       -moz-animation: @arguments; // Firefox
            animation: @arguments;
}

.apperance(@apperance...) {    
    -webkit-appearance: @arguments;
    -moz-appearance: @arguments;
    -ms-appearance: @arguments;
    -o-appearance: @arguments;
    appearance: @arguments;
}


#no-ui {

    .horizontal(@size: 30px) {

        // Slider style
        .noUi-horizontal {
            height: 6px;

            &, .noUi-origin {
                background-color: #cacaca;
                box-shadow: none;
            }

            .noUi-connect {
                background-color: @progress-bar-bg;
                box-shadow: none;
                border: 1px solid @progress-bar-bg;
            }

            .noUi-handle {
                border-radius: @size;
                background-color: @progress-bar-bg;
                box-shadow: none;
                border: none;

                width: @size;
                height: @size;

                left: @size/-2px;
                top:  @size/-2px;
                cursor: pointer;

                &:before {
                    display: none;
                }

                &:after {
                    background-color: lighten(@progress-bar-bg, 15%);
                    width: 10px;
                    height: 10px;
                    border-radius: 1em;
                    top: 50%;
                    left: 50%;
                    margin-top: -5px;
                    margin-left: -5px;
                    .box-shadow(inset 0 0 1px white);
                }
            }

        }
    }

}